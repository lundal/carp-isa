\documentclass[a4paper]{article}

\usepackage[utf8]{inputenc} % UTF-8
\usepackage[T1]{fontenc} % 8-bit fonts

\usepackage{lmodern} % Modern font

\usepackage{xcolor} % Colors
\usepackage{hyperref} % URLs
\usepackage{graphicx} % Graphics

\usepackage[parfill]{parskip} % Line skip paragraphs

\usepackage{xifthen}
\usepackage{bytefield}

\usepackage{fancyhdr}
\usepackage[raggedright]{titlesec}

\title{Cellular Automata Research Platform\\Instruction Set Architecture}
\date{\today}

% Section styling
\renewcommand\thepart{\arabic{part}}
\renewcommand\thesection{\arabic{section}}
\renewcommand\thesubsection{\hspace{-1em}}
\renewcommand\thesubsubsection{}

\renewcommand{\familydefault}{\sfdefault} % Sans-seriff font
\newcommand{\sectionbreak}{\clearpage} % Add pagebreak between sections

% command definitions
\input{defines/bytefield}
\input{defines/instructions}

\pagestyle{fancy}
\lhead{}

\pagenumbering{roman}

\begin{document}

\maketitle

\tableofcontents

\newpage

\setcounter{page}{1}
\pagenumbering{arabic}

\section{Introduction}

TODO

Rule format

LUT format

\section{General Instructions}

This section covers instructions that are not used directly or do not fit into any of the following sections.

\input{instructions/nop}

\input{instructions/read-information}
\input{instructions/read-fitness}

\input{instructions/swap-cell-buffers}
\input{instructions/reset-buffers}

\section{Development Instructions}

This section covers all instructions affecting the development module.
This includes writing rules, setting active rules, running development and reading data for which rules have triggered.

\input{instructions/read-rule-vectors}
\input{instructions/read-rule-numbers}

\input{instructions/write-rule}
\input{instructions/set-rules-active}

\input{instructions/devstep}

\section{Cell Buffer Instructions}

This section covers all instructions for writing and reading states and types to/from the cell buffer.

\input{instructions/read-state-one}
\input{instructions/read-state-all}
\input{instructions/read-type-one}
\input{instructions/read-type-all}

\input{instructions/write-state-one}
\input{instructions/write-state-row}
\input{instructions/write-type-one}
\input{instructions/write-type-row}

\input{instructions/fill-cells}

\section{Cellular Automata Instructions}

This section covers all instructions affecting the Cellular Automaton.
This includes writing look-up tables, configuring the CA, running the CA, and reading back the new states.

\input{instructions/write-lut}

\input{instructions/config}
\input{instructions/readback}

\input{instructions/runstep}

\section{Control Flow Instructions}

This section covers all instructions that are related to the program memory.
This includes those for storing, starting and exiting programs, in addition to control flow within the programs.

\input{instructions/break}

\input{instructions/store}
\input{instructions/end}

\input{instructions/jump}
\input{instructions/jump-equal}
\input{instructions/counter-increment}
\input{instructions/counter-reset}

\end{document}
